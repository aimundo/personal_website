---
title: "GAMs in clinical data"
format:
  html:
    theme: default
    toc: true
    number-sections: true
editor_options: 
  chunk_output_type: console
---

```{r, setup}
library(here)
library(ggplot2)
library(tidyverse)
library(readxl)
library(mgcv)
```

Let's load the tumor size dataset. The data set comes from:
Varna M, Bertheau P, Legres LG. Tumor Microenvironment in Human Tumor Xenografted Mouse Models. Journal of Analytical Oncology 2014; 3(3): 159-166

And can be found in the Teaching of Statistics in the Health Sciences Portal here:
https://www.causeweb.org/tshs/tumor-growth/

The chunk below can be omitted as the repo already contains the `.csv` file.
```{r, load data and create csv file}

load("content/blog/tumorgrowth.RData")
write.csv(tumorgrowth,"content/blog/tumorgrowth.csv")
```


```{r,plot data}

data<-read.csv(here("content/blog/tumorgrowth.csv"))

#make variables a factor, if needed

data$

ggplot(data=data,aes(x=Day,y=Size))+
    geom_point()+
    facet_wrap(~Grp)+
    theme_bw()
```

There are four treatment groups. Let's see how tumors change over time by adding lines and making the points specific per each subject.

```{r,plot data}

ggplot(data=data,aes(x=Day,y=Size))+
    geom_point(aes(shape))+
    facet_wrap(~Grp)+
    theme_bw()
```
